{% extends "admin_base.html" %}

{% block extra_head %}
<style>
:root {
    --tbl-border:#d8dfe5;
    --tbl-head-bg:#f5f7fa;
    --tbl-row-hover:#f0f6ff;
    --tbl-accent:#2563eb;
    --tbl-text:#1f2933;
    --tbl-muted:#5f6b76;
    --radius:8px;
    --fade:120ms;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,sans-serif;
}
.table-wrap {
    margin: 1.5rem 0;
    background:#fff;
    border:1px solid var(--tbl-border);
    border-radius:var(--radius);
    overflow:hidden;
    box-shadow:0 1px 2px rgba(0,0,0,.04);
}
.table-header {
    padding:.75rem 1rem;
    display:flex;
    gap:.75rem;
    align-items:center;
    background:linear-gradient(#ffffff,#f8fafc);
    border-bottom:1px solid var(--tbl-border);
}
.table-header h2 {
    margin:0;
    font-size:1rem;
    font-weight:600;
    color:var(--tbl-text);
    letter-spacing:.5px;
    text-transform:uppercase;
}
.table-header .meta {
    margin-left:auto;
    font-size:.75rem;
    color:var(--tbl-muted);
    letter-spacing:.5px;
}
.responsive-table {
    width:100%;
    border-collapse:separate;
    border-spacing:0;
    font-size:.9rem;
}
.responsive-table thead th {
    background:var(--tbl-head-bg);
    color:var(--tbl-muted);
    font-weight:600;
    padding:.75rem .9rem;
    text-align:left;
    font-size:.7rem;
    letter-spacing:.08em;
    text-transform:uppercase;
    border-bottom:1px solid var(--tbl-border);
    position:sticky;
    top:0;
    z-index:2;
}
.responsive-table tbody td {
    padding:.7rem .9rem;
    border-bottom:1px solid var(--tbl-border);
    color:var(--tbl-text);
    vertical-align:middle;
}
.responsive-table tbody tr:last-child td {
    border-bottom:none;
}
.responsive-table tbody tr {
    transition:background var(--fade) ease;
}
.responsive-table tbody tr:hover {
    background:var(--tbl-row-hover);
}
.badge {
    display:inline-block;
    min-width:1.75rem;
    padding:.15rem .55rem;
    font-size:.7rem;
    font-weight:600;
    line-height:1.1;
    text-align:center;
    color:#fff;
    background:var(--tbl-accent);
    border-radius:1rem;
    letter-spacing:.5px;
}
.empty-row td {
    text-align:center;
    padding:2.5rem .9rem;
    font-size:.85rem;
    color:var(--tbl-muted);
}
@media (max-width:680px) {
    .responsive-table thead {
        display:none;
    }
    .responsive-table tbody tr {
        display:grid;
        grid-template-columns:1fr 1fr;
        gap:.25rem .75rem;
        padding:.85rem .9rem;
        border-bottom:1px solid var(--tbl-border);
    }
    .responsive-table tbody td {
        border:0;
        padding:0;
    }
    .responsive-table tbody td[data-label]::before {
        content:attr(data-label);
        display:block;
        font-size:.65rem;
        font-weight:600;
        text-transform:uppercase;
        color:var(--tbl-muted);
        letter-spacing:.05em;
        margin-bottom:.15rem;
    }
    .responsive-table tbody tr:last-child {
        border-bottom:none;
    }
    .badge {
        justify-self:start;
    }
    .empty-row td {
        padding:2rem 0;
    }
}
</style>
{% endblock extra_head %}

{% block content %}
<div class="table-wrap">
    <div class="table-header">
        <h2>Groups</h2>
        <div class="meta">
            Total: {{ groups|length }}
        </div>
    </div>
    <table class="responsive-table">
        <thead>
            <tr>
                <th style="width:40%">Group Name</th>
                <th style="width:40%">College</th>
                <th style="width:20%; text-align:right;">Count</th>
            </tr>
        </thead>
        <tbody>
            {% for group in groups %}
            <tr>
                <td data-label="Group Name">
                    {{ group.name }}
                </td>
                <td data-label="College">
                    {{ group.college|default:"-" }}
                </td>
                <td data-label="Count" style="text-align:right;">
                    <span class="badge">
                        {{ group.count|default:group.member_count|default:0 }}
                    </span>
                </td>
            </tr>
            {% empty %}
            <tr class="empty-row">
                <td colspan="3">No groups available.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock content %}</tr></span></td></div>